<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns:yui="http://yuilibrary.com/rdf/1.0/yui.rdf#">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>API: FB.Md5   md5.js  (RCC Library)</title>

	<link rel="stylesheet" type="text/css" href="assets/reset-fonts-grids-min.css?stamp=1258977018.45" />
	<link rel="stylesheet" type="text/css" href="assets/api.css?stamp=1258977018.45" />

    <script type="text/javascript" src="assets/api.js?stamp=1258977018.45"></script>
    <script type="text/javascript" src="assets/ac.js?stamp=1258977018.45"></script>
     <link href="../pretty/prettify.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="../pretty/prettify.js"></script>

</head>

<body id="yahoo-com">

<div id="doc3" class="yui-t2">
	<div id="hd">
        <h1><a href="http://developer.yahoo.com/yui/" title="RCC Library">RCC Library</a></h1>
        <h3>FB.Md5&nbsp; <span class="subtitle">1.0.0</span></h3>
        <a href="./index.html" title="RCC Library">RCC Library</a>
                
                 &gt; md5.js (source view) 
        <form onsubmit="return false">
            <div id="propertysearch">
                Search: <input autocomplete="off" id="searchinput" />
                <div id="searchresults">
                    &nbsp;
                </div>
            </div>
        </form>
	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form action="#" name="yui-classopts-form" method="get" id="yui-classopts-form">
                <fieldset>
                    <legend>Filters</legend>
                <span class="classopts"><input type="checkbox" name="show_private" id="show_private" /> <label for="show_private">Show Private</label></span>
                <span class="classopts"><input type="checkbox" name="show_protected" id="show_protected" /> <label for="show_protected">Show Protected</label></span>
                <span class="classopts"><input type="checkbox" name="show_deprecated" id="show_deprecated" /> <label for="show_deprecated">Show Deprecated</label></span>
                </fieldset>
            </form>

                    <div id="srcout">
                        <style>
                            #doc3 .classopts { display:none; }
                        </style>
<div class="highlight"><pre><span class="c">/**</span>
<span class="c">* @provides FB.Md5</span>
<span class="c"> * @layer Basic</span>
<span class="c">* @requires FB.Base FB.Util</span>
<span class="c">*/</span>

<span class="c">/*</span>
<span class="c">* @class FB.Md5</span>
<span class="c">* MD5 (Message-Digest Algorithm)</span>
<span class="c">* http://www.webtoolkit.info/</span>
<span class="c">*</span>
<span class="c">**/</span>

<span class="c">// thanks http://pajhome.org.uk/crypt/md5/md5.html</span>
<span class="nx">FB</span><span class="p">.</span><span class="nx">provide</span><span class="p">(</span><span class="s1">&#39;Md5&#39;</span><span class="o">,</span> <span class="p">{</span>

  <span class="c">/**</span>
<span class="c">   * Generate the signature that Facebook expects from the parameters</span>
<span class="c">   * by appending them all in a string with your application secret,</span>
<span class="c">   * and taking the MD5 of that.</span>
<span class="c">   * @param  {Object} parameters</span>
<span class="c">   * The parameters to use in the signature</span>
<span class="c">   * @param  {String} secret</span>
<span class="c">   * Secret to use to sign the parameters</span>
<span class="c">   * @return  String</span>
<span class="c">   * @static</span>
<span class="c">   */</span>
  <span class="nx">sign</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parameters</span><span class="o">,</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
    <span class="c">// Use an array as string builder to avoid expensive</span>
    <span class="c">// string concat</span>
    <span class="kd">var</span> <span class="nx">sb</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="c">// We need to sort parameter by keys and append key/value</span>
    <span class="c">// pairs.</span>
    <span class="nx">FB</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">FB</span><span class="p">.</span><span class="nx">Util</span><span class="p">.</span><span class="nx">obj2array</span><span class="p">(</span><span class="nx">parameters</span><span class="p">).</span><span class="nx">sort</span><span class="p">()</span><span class="o">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">sb</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">key</span> <span class="o">+</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="nx">parameters</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
    <span class="p">});</span>

    <span class="c">//  Append the secret to the string</span>
    <span class="c">//  Compute the MD5 hash of the signature builder</span>
    <span class="k">return</span>  <span class="nx">FB</span><span class="p">.</span><span class="nx">Md5</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">sb</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="nx">secret</span><span class="p">);</span>
  <span class="p">}</span><span class="o">,</span>

  <span class="nx">sum</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
  <span class="c">// FLOW: input -&gt; utf8 input -&gt; bin input -&gt; bin md5 -&gt; utf8 md5 -&gt; hex md5</span>
  <span class="kd">var</span>
    <span class="nx">hex_vocab</span> <span class="o">=</span> <span class="s1">&#39;0123456789abcdef&#39;</span><span class="o">,</span>

    <span class="nx">raw_input</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">,</span>
    <span class="nx">raw_input_bits_len</span><span class="o">,</span>
    <span class="nx">bin_input</span><span class="o">,</span>
    <span class="nx">bin_md5</span><span class="o">,</span>
    <span class="nx">raw_md5</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">,</span>
    <span class="nx">hex_md5</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">,</span>

    <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span>
    <span class="nx">x</span><span class="o">,</span>
    <span class="nx">y</span><span class="o">;</span>


  <span class="kd">function</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">x</span><span class="o">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">lsw</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(((</span><span class="nx">x</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">lsw</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">))</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">lsw</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c">// basic operations</span>
  <span class="kd">function</span> <span class="nx">cmn</span><span class="p">(</span><span class="nx">q</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">safe_add</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">q</span><span class="p">)</span><span class="o">,</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">x</span><span class="o">,</span> <span class="nx">t</span><span class="p">));</span>
    <span class="k">return</span> <span class="nx">safe_add</span><span class="p">((</span><span class="nx">num</span> <span class="o">&lt;&lt;</span> <span class="nx">s</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="mi">32</span> <span class="o">-</span> <span class="nx">s</span><span class="p">))</span><span class="o">,</span> <span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">cmn</span><span class="p">((</span><span class="nx">b</span> <span class="o">&amp;</span> <span class="nx">c</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="o">~</span><span class="nx">b</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nx">d</span><span class="p">)</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">cmn</span><span class="p">((</span><span class="nx">b</span> <span class="o">&amp;</span> <span class="nx">d</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">c</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="nx">d</span><span class="p">))</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">cmn</span><span class="p">(</span><span class="nx">b</span> <span class="o">^</span> <span class="nx">c</span> <span class="o">^</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">cmn</span><span class="p">(</span><span class="nx">c</span> <span class="o">^</span> <span class="p">(</span><span class="nx">b</span> <span class="o">|</span> <span class="p">(</span><span class="o">~</span><span class="nx">d</span><span class="p">))</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">t</span><span class="p">);</span>
  <span class="p">}</span>


  <span class="c">// encode string to utf-8</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="c">/* decode utf-16 surrogate pairs */</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="nx">y</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">input</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="mh">0xD800</span> <span class="o">&lt;=</span> <span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="nx">x</span> <span class="o">&lt;=</span> <span class="mh">0xDBFF</span> <span class="o">&amp;&amp;</span> <span class="mh">0xDC00</span> <span class="o">&lt;=</span> <span class="nx">y</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mh">0xDFFF</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">x</span> <span class="o">=</span> <span class="mh">0x10000</span> <span class="o">+</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&amp;</span> <span class="mh">0x03FF</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&amp;</span> <span class="mh">0x03FF</span><span class="p">);</span>
      <span class="nx">i</span><span class="o">++;</span>
    <span class="p">}</span>

    <span class="c">/* encode raw_input as utf-8 */</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;=</span> <span class="mh">0x7F</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">raw_input</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;=</span> <span class="mh">0x7FF</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">raw_input</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mh">0xC0</span> <span class="o">|</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1F</span><span class="p">)</span><span class="o">,</span>
                                       <span class="mh">0x80</span> <span class="o">|</span> <span class="p">(</span> <span class="nx">x</span>         <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;=</span> <span class="mh">0xFFFF</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">raw_input</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mh">0xE0</span> <span class="o">|</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0F</span><span class="p">)</span><span class="o">,</span>
                                       <span class="mh">0x80</span> <span class="o">|</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">)</span><span class="o">,</span>
                                       <span class="mh">0x80</span> <span class="o">|</span> <span class="p">(</span> <span class="nx">x</span>         <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;=</span> <span class="mh">0x1FFFFF</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">raw_input</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mh">0xF0</span> <span class="o">|</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">18</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x07</span><span class="p">)</span><span class="o">,</span>
                                       <span class="mh">0x80</span> <span class="o">|</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">)</span><span class="o">,</span>
                                       <span class="mh">0x80</span> <span class="o">|</span> <span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">)</span><span class="o">,</span>
                                       <span class="mh">0x80</span> <span class="o">|</span> <span class="p">(</span> <span class="nx">x</span>         <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>


  <span class="c">// number of bits in the raw utf-8 string</span>
  <span class="nx">raw_input_bits_len</span> <span class="o">=</span> <span class="nx">raw_input</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mi">8</span><span class="o">;</span>


  <span class="c">// string to little-endian array words</span>
  <span class="nx">bin_input</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">raw_input</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bin_input</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">raw_input_bits_len</span><span class="o">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">&gt;&gt;</span><span class="mi">5</span><span class="p">]</span> <span class="o">|=</span> <span class="p">(</span><span class="nx">raw_input</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">32</span><span class="p">);</span>
  <span class="p">}</span>


  <span class="c">// calculate md5 as little-endian array words</span>
  <span class="c">// padding</span>
  <span class="nx">bin_input</span><span class="p">[</span><span class="nx">raw_input_bits_len</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span><span class="p">]</span> <span class="o">|=</span> <span class="mh">0x80</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="nx">raw_input_bits_len</span><span class="p">)</span> <span class="o">%</span> <span class="mi">32</span><span class="p">);</span>
  <span class="nx">bin_input</span><span class="p">[(((</span><span class="nx">raw_input_bits_len</span> <span class="o">+</span> <span class="mi">64</span><span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">9</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">14</span><span class="p">]</span> <span class="o">=</span> <span class="nx">raw_input_bits_len</span><span class="o">;</span>

  <span class="kd">var</span>
    <span class="nx">a</span> <span class="o">=</span>  <span class="mi">1732584193</span><span class="o">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="o">-</span><span class="mi">271733879</span><span class="o">,</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1732584194</span><span class="o">,</span>
    <span class="nx">d</span> <span class="o">=</span>  <span class="mi">271733878</span><span class="o">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bin_input</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">16</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span>
      <span class="nx">olda</span> <span class="o">=</span> <span class="nx">a</span><span class="o">,</span>
      <span class="nx">oldb</span> <span class="o">=</span> <span class="nx">b</span><span class="o">,</span>
      <span class="nx">oldc</span> <span class="o">=</span> <span class="nx">c</span><span class="o">,</span>
      <span class="nx">oldd</span> <span class="o">=</span> <span class="nx">d</span><span class="o">;</span>

    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">0</span><span class="p">]</span><span class="o">,</span> <span class="mi">7</span> <span class="o">,</span> <span class="o">-</span><span class="mi">680876936</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="o">-</span><span class="mi">389564586</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">2</span><span class="p">]</span><span class="o">,</span> <span class="mi">17</span><span class="o">,</span>  <span class="mi">606105819</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">3</span><span class="p">]</span><span class="o">,</span> <span class="mi">22</span><span class="o">,</span> <span class="o">-</span><span class="mi">1044525330</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">4</span><span class="p">]</span><span class="o">,</span> <span class="mi">7</span> <span class="o">,</span> <span class="o">-</span><span class="mi">176418897</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">5</span><span class="p">]</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span>  <span class="mi">1200080426</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">6</span><span class="p">]</span><span class="o">,</span> <span class="mi">17</span><span class="o">,</span> <span class="o">-</span><span class="mi">1473231341</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">7</span><span class="p">]</span><span class="o">,</span> <span class="mi">22</span><span class="o">,</span> <span class="o">-</span><span class="mi">45705983</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">8</span><span class="p">]</span><span class="o">,</span> <span class="mi">7</span> <span class="o">,</span>  <span class="mi">1770035416</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">9</span><span class="p">]</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="o">-</span><span class="mi">1958414417</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">10</span><span class="p">]</span><span class="o">,</span> <span class="mi">17</span><span class="o">,</span> <span class="o">-</span><span class="mi">42063</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">11</span><span class="p">]</span><span class="o">,</span> <span class="mi">22</span><span class="o">,</span> <span class="o">-</span><span class="mi">1990404162</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">12</span><span class="p">]</span><span class="o">,</span> <span class="mi">7</span> <span class="o">,</span>  <span class="mi">1804603682</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">13</span><span class="p">]</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="o">-</span><span class="mi">40341101</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">14</span><span class="p">]</span><span class="o">,</span> <span class="mi">17</span><span class="o">,</span> <span class="o">-</span><span class="mi">1502002290</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ff</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">15</span><span class="p">]</span><span class="o">,</span> <span class="mi">22</span><span class="o">,</span>  <span class="mi">1236535329</span><span class="p">);</span>

    <span class="nx">a</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">,</span> <span class="mi">5</span> <span class="o">,</span> <span class="o">-</span><span class="mi">165796510</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">6</span><span class="p">]</span><span class="o">,</span> <span class="mi">9</span> <span class="o">,</span> <span class="o">-</span><span class="mi">1069501632</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">11</span><span class="p">]</span><span class="o">,</span> <span class="mi">14</span><span class="o">,</span>  <span class="mi">643717713</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">0</span><span class="p">]</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="o">-</span><span class="mi">373897302</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">5</span><span class="p">]</span><span class="o">,</span> <span class="mi">5</span> <span class="o">,</span> <span class="o">-</span><span class="mi">701558691</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">10</span><span class="p">]</span><span class="o">,</span> <span class="mi">9</span> <span class="o">,</span>  <span class="mi">38016083</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">15</span><span class="p">]</span><span class="o">,</span> <span class="mi">14</span><span class="o">,</span> <span class="o">-</span><span class="mi">660478335</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">4</span><span class="p">]</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="o">-</span><span class="mi">405537848</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">9</span><span class="p">]</span><span class="o">,</span> <span class="mi">5</span> <span class="o">,</span>  <span class="mi">568446438</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">14</span><span class="p">]</span><span class="o">,</span> <span class="mi">9</span> <span class="o">,</span> <span class="o">-</span><span class="mi">1019803690</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">3</span><span class="p">]</span><span class="o">,</span> <span class="mi">14</span><span class="o">,</span> <span class="o">-</span><span class="mi">187363961</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">8</span><span class="p">]</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span>  <span class="mi">1163531501</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">13</span><span class="p">]</span><span class="o">,</span> <span class="mi">5</span> <span class="o">,</span> <span class="o">-</span><span class="mi">1444681467</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">2</span><span class="p">]</span><span class="o">,</span> <span class="mi">9</span> <span class="o">,</span> <span class="o">-</span><span class="mi">51403784</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">7</span><span class="p">]</span><span class="o">,</span> <span class="mi">14</span><span class="o">,</span>  <span class="mi">1735328473</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">gg</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">12</span><span class="p">]</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="o">-</span><span class="mi">1926607734</span><span class="p">);</span>

    <span class="nx">a</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">5</span><span class="p">]</span><span class="o">,</span> <span class="mi">4</span> <span class="o">,</span> <span class="o">-</span><span class="mi">378558</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">8</span><span class="p">]</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span> <span class="o">-</span><span class="mi">2022574463</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">11</span><span class="p">]</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span>  <span class="mi">1839030562</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">14</span><span class="p">]</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="o">-</span><span class="mi">35309556</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">,</span> <span class="mi">4</span> <span class="o">,</span> <span class="o">-</span><span class="mi">1530992060</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">4</span><span class="p">]</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span>  <span class="mi">1272893353</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">7</span><span class="p">]</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span> <span class="o">-</span><span class="mi">155497632</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">10</span><span class="p">]</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="o">-</span><span class="mi">1094730640</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">13</span><span class="p">]</span><span class="o">,</span> <span class="mi">4</span> <span class="o">,</span>  <span class="mi">681279174</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">0</span><span class="p">]</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span> <span class="o">-</span><span class="mi">358537222</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">3</span><span class="p">]</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span> <span class="o">-</span><span class="mi">722521979</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">6</span><span class="p">]</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span>  <span class="mi">76029189</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">9</span><span class="p">]</span><span class="o">,</span> <span class="mi">4</span> <span class="o">,</span> <span class="o">-</span><span class="mi">640364487</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">12</span><span class="p">]</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span> <span class="o">-</span><span class="mi">421815835</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">15</span><span class="p">]</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span>  <span class="mi">530742520</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">hh</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">2</span><span class="p">]</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="o">-</span><span class="mi">995338651</span><span class="p">);</span>

    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">0</span><span class="p">]</span><span class="o">,</span> <span class="mi">6</span> <span class="o">,</span> <span class="o">-</span><span class="mi">198630844</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">7</span><span class="p">]</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span>  <span class="mi">1126891415</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">14</span><span class="p">]</span><span class="o">,</span> <span class="mi">15</span><span class="o">,</span> <span class="o">-</span><span class="mi">1416354905</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">5</span><span class="p">]</span><span class="o">,</span> <span class="mi">21</span><span class="o">,</span> <span class="o">-</span><span class="mi">57434055</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">12</span><span class="p">]</span><span class="o">,</span> <span class="mi">6</span> <span class="o">,</span>  <span class="mi">1700485571</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">3</span><span class="p">]</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="o">-</span><span class="mi">1894986606</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">10</span><span class="p">]</span><span class="o">,</span> <span class="mi">15</span><span class="o">,</span> <span class="o">-</span><span class="mi">1051523</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">,</span> <span class="mi">21</span><span class="o">,</span> <span class="o">-</span><span class="mi">2054922799</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">8</span><span class="p">]</span><span class="o">,</span> <span class="mi">6</span> <span class="o">,</span>  <span class="mi">1873313359</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">15</span><span class="p">]</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="o">-</span><span class="mi">30611744</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">6</span><span class="p">]</span><span class="o">,</span> <span class="mi">15</span><span class="o">,</span> <span class="o">-</span><span class="mi">1560198380</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">13</span><span class="p">]</span><span class="o">,</span> <span class="mi">21</span><span class="o">,</span>  <span class="mi">1309151649</span><span class="p">);</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">4</span><span class="p">]</span><span class="o">,</span> <span class="mi">6</span> <span class="o">,</span> <span class="o">-</span><span class="mi">145523070</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">11</span><span class="p">]</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="o">-</span><span class="mi">1120210379</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">2</span><span class="p">]</span><span class="o">,</span> <span class="mi">15</span><span class="o">,</span>  <span class="mi">718787259</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">ii</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">a</span><span class="o">,</span> <span class="nx">bin_input</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span> <span class="mi">9</span><span class="p">]</span><span class="o">,</span> <span class="mi">21</span><span class="o">,</span> <span class="o">-</span><span class="mi">343485551</span><span class="p">);</span>

    <span class="nx">a</span> <span class="o">=</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">a</span><span class="o">,</span> <span class="nx">olda</span><span class="p">);</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">b</span><span class="o">,</span> <span class="nx">oldb</span><span class="p">);</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">c</span><span class="o">,</span> <span class="nx">oldc</span><span class="p">);</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">safe_add</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">oldd</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">bin_md5</span> <span class="o">=</span> <span class="p">[</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">c</span><span class="o">,</span> <span class="nx">d</span><span class="p">];</span>


  <span class="c">// little-endian array words to a string</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bin_md5</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mi">32</span><span class="o">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">raw_md5</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">((</span><span class="nx">bin_md5</span><span class="p">[</span><span class="nx">i</span><span class="o">&gt;&gt;</span><span class="mi">5</span><span class="p">]</span> <span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="nx">i</span> <span class="o">%</span> <span class="mi">32</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>
  <span class="p">}</span>


  <span class="c">// convert the raw md5 string to a hex md5 string</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">raw_md5</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">raw_md5</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="nx">hex_md5</span> <span class="o">+=</span> <span class="nx">hex_vocab</span><span class="p">.</span><span class="nx">charAt</span><span class="p">((</span><span class="nx">x</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0F</span><span class="p">)</span> <span class="o">+</span> <span class="nx">hex_vocab</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">x</span> <span class="o">&amp;</span> <span class="mh">0x0F</span><span class="p">);</span>
  <span class="p">}</span>


  <span class="k">return</span> <span class="nx">hex_md5</span><span class="o">;</span>
<span class="p">}</span>

<span class="p">});</span>
</pre></div>
                    </div>
			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div id="moduleList" class="module">
                        <h4>Modules</h4>
                        <ul class="content">
                                <li class=""><a href="module_fbapi.html"  title="FB.Api">FB.Api</a></li>
                                <li class=""><a href="module_fbapp.html"  title="FB.App">FB.App</a></li>
                                <li class=""><a href="module_fbasync.html"  title="FB.Async">FB.Async</a></li>
                                <li class=""><a href="module_fbbase.html"  title="FB.Base">FB.Base</a></li>
                                <li class=""><a href="module_fbconnect-button-css.html"  title="FB.connect-button-css">FB.connect-button-css</a></li>
                                <li class=""><a href="module_fbdata.html"  title="FB.Data">FB.Data</a></li>
                                <li class=""><a href="module_fbdebug.html"  title="FB.Debug">FB.Debug</a></li>
                                <li class=""><a href="module_fbdom.html"  title="FB.Dom">FB.Dom</a></li>
                                <li class=""><a href="module_fbevent.html"  title="FB.Event">FB.Event</a></li>
                                <li class=""><a href="module_fbflash.html"  title="FB.Flash">FB.Flash</a></li>
                                <li class=""><a href="module_fbhelperfblayerxfbml.html"  title="FB.Helper
 fblayer XFBML">FB.Helper
 fblayer XFBML</a></li>
                                <li class=""><a href="module_fbiframeresizer.html"  title="FB.IframeResizer">FB.IframeResizer</a></li>
                                <li class=""><a href="module_fbjson.html"  title="FB.JSON">FB.JSON</a></li>
                                <li class=""><a href="module_fbloader.html"  title="FB.Loader">FB.Loader</a></li>
                                <li class=""><a href="module_fbloaderuse.html"  title="FB.Loader.use">FB.Loader.use</a></li>
                                <li class="selected"><a href="module_fbmd5.html"  title="FB.Md5">FB.Md5</a></li>
                                <li class=""><a href="module_fbshare-button-css.html"  title="FB.share-button-css">FB.share-button-css</a></li>
                                <li class=""><a href="module_fbtype.html"  title="FB.Type">FB.Type</a></li>
                                <li class=""><a href="module_fbuidialog.html"  title="FB.UI.Dialog">FB.UI.Dialog</a></li>
                                <li class=""><a href="module_fbuipopupwin.html"  title="FB.UI.PopupWin">FB.UI.PopupWin</a></li>
                                <li class=""><a href="module_fburi.html"  title="FB.Uri">FB.Uri</a></li>
                                <li class=""><a href="module_fbutil.html"  title="FB.Util">FB.Util</a></li>
                                <li class=""><a href="module_fbxdcomm.html"  title="FB.XdComm">FB.XdComm</a></li>
                                <li class=""><a href="module_fbxfbml.html"  title="FB.XFBML">FB.XFBML</a></li>
                                <li class=""><a href="module_fbxfbmlelement.html"  title="FB.XFBML.Element">FB.XFBML.Element</a></li>
                                <li class=""><a href="module_fbxfbmlloginbutton.html"  title="FB.XFBML.LoginButton">FB.XFBML.LoginButton</a></li>
                                <li class=""><a href="module_fbxfbmlname.html"  title="FB.XFBML.Name">FB.XFBML.Name</a></li>
                                <li class=""><a href="module_fbxfbmlprofilepic.html"  title="FB.XFBML.ProfilePic">FB.XFBML.ProfilePic</a></li>
                                <li class=""><a href="module_fbxfbmlsharebutton.html"  title="FB.XFBML.ShareButton">FB.XFBML.ShareButton</a></li>
                        </ul>
                    </div>


                    <div id="fileList" class="module">
                        <h4>Files</h4>
                        <ul class="content">
                                <li class="selected"><a href="md5.js.html" title="md5.js">md5.js</a></li>
                        </ul>
                    </div>





            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2009 <a href="http://www.facebook./wei">Wei Zhu</a>
	</div>
</div>
<script type="text/javascript">
    ALL_YUI_PROPS = [];
</script>
<script type="text/javascript">
prettyPrint();
</script>
</body>
</html>
